<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>队列封装</title>
</head>

<body>
    <script>
        //基于数组的队列
        function Queue() {
            // 属性
            this.items = []
            // 方法
            // 1.将元素加入到队列中
            Queue.prototype.enqueue = function (element) {
                this.items.push(element)
            }
            // 2.从队列中删除前端元素
            Queue.prototype.dequeue = function () {
                return this.items.shift()
            }
            // 3.查看前端元素
            Queue.prototype.front = function () {
                return this.items[0]
            }
            // 4.判断队列是否为空
            Queue.prototype.isEmpty = function () {
                return this.items.length == 0
            }
            // 5.获取队列中元素的个数
            Queue.prototype.size = function () {
                return this.items.length
            }
            // 6.toString方法
            Queue.prototype.toString = function () {
                var result = this.items
                return result.join('')
            }
        }
        //使用队列
        // var queue = new Queue()


        //击鼓传花
        function passGame(nameList, num){
            var queue = new Queue()
            var j = 1;
            // 将所有人加入队列
            for (var i = 0; i < nameList.length; i++){
                queue.enqueue(nameList[i])
            }

            //不是num的时候 重新加入到末尾 
            //如果是num的时候 将其从队列中删除
            while(queue.size() > 1){
                if( j == num) {
                    queue.dequeue(queue.front())
                    j = 1
                }else{
                    queue.enqueue(queue.dequeue())
                    j ++ 
                }

            }
            return nameList.indexOf(queue.front())
        }
        console.log(passGame(['dd','aa','cc','bb','ee'],3))
    </script>
</body>

</html>